<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>jQuery events</title>
<link rel="stylesheet" media="all" href="styles.css" />
</head>
<body>

	<header>
		<h1>jQuery Events</h1>
	</header>
	
	<article>
	
		<p><a id="google" href="http://www.google.com/">Google</a></p>
	
		<ul id="list">
			<li>I'm item 1</li>
		</ul>
		
	</article>

	<footer>
		<p><a href="http://www.infiniteskills.com/">&copy; InfiniteSkills</a></p>
		<p><a href="http://craigbuckler.com/">By Craig Buckler</a></p>
	</footer>

<script src="../resources/script/jquery.js"></script>
<script>

// run when DOM is ready
$(function() {

	// prevent link click
	$("a#google").click(GoogleClick);
	
	function GoogleClick(e) {
		alert("Try again...");
		
		// deregister event
		$(this).unbind("click", GoogleClick);

		return false;
	}


	// attach event to all existing and new list items in ul#list
	$("ul#list").delegate("li", "click", ListItemClick);
	
	function ListItemClick(e) {
		var ul = $(e.target).parent();
		var c = ul.children().length+1;
		ul.append("<li>new item "+c+"</li>");
		if (c > 4) {
		
			// deregister event
			$(ul).undelegate("li", "click", ListItemClick);
			
		}
	}
	
});

</script>
</body>
</html>